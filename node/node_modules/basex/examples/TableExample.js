
/*
 * This example shows how results from a query can be received in an iterative
 * mode and illustrated in a table. 
 */
var basex  = require("../index");
var log = require("../debug");
var fs=require('fs');
var http = require('http');
basex.debug_mode = false;
// commands to be performed
var xq=["factbook.xq","xslt_countries.xq"];

function loadfile(src){
	return fs.readFileSync(__dirname+"/"+src,'utf-8')
};
var session = new basex.Session("localhost", 1984, "admin", "admin");
var cmd=loadfile("auteurs.xq");
var query = session.query(cmd);
query.execute(log.print);


// close query instance
query.close();

// close session
session.close();


//var query0 = session.query(loadfile(xq[0]));
//var query1 = session.query(loadfile(xq[1]));

//http.createServer(list).listen(9000);
//console.log('Server running at port:9000');
